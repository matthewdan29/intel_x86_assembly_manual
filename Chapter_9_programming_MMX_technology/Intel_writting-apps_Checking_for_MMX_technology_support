Before an application attempts to use the MMX technology, it should check that it is present on the processor. 
Check by following these steps: 

	1) Check that the processor supports the CPUID instruction by attempting to execute the CPUID instruction. IF the processor does not support the CPUID instruction, this will generate an invalid-opcode exception (#UD).

	2) Check that the processor supports the MMX technology (if CPUID.01H:EDX.MMX[bit 23] = 1). 

	3) Check that emulation of the x87 FPU is disabled (if CR0.EM[bit 2] = 0). 

If the processor attempts to execute an unsupported MMX instruction or attempts to execute an MMX instruction with CR0.EM[bit 2] set, thiis generates an invalid-opcode exception (#UD).	



Example 9-1 illustrates how to use the CPUID instruction to detect the MMX technology. 
This example does not represent the entire CPUID seuence, but shows the portion used for detection of MMX technology. 

EXAMPLE 9-1. Partial Routine for Detecting MMX technology with CPUID instruction


		...		; identify existence of CPUID instruction

		...		; identify Intel processor

		mov	EAX,1	; request for feature flags 

		CPUID		; 0FH, 0A2H CPUID instruction

		test EDX, 00800000H	; Is IA MMX technology bit (bit 23 of EDX) set?

		jnz		; MMX_Technology_Found
